<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Admin Dashboard</title>

		<!-- Tailwind CSS -->
		<link rel="stylesheet" href="./styles/output.css" />

		<!-- Custom CSS for dashboard -->
		<link rel="stylesheet" href="./styles/dashboard.css" />

		<!-- Chart.js for Analytics -->
		<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

		<!-- Quill Rich Text Editor CSS -->
		<link
			href="https://cdn.quilljs.com/1.3.6/quill.snow.css"
			rel="stylesheet"
		/>
		<!-- Quill Rich Text Editor JS -->
		<script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
	</head>
	<body class="bg-gray-100 font-sans">
		<!-- Login Screen -->
		<div id="login-screen" class="flex items-center justify-center h-screen">
			<div class="bg-white p-8 rounded-lg shadow-lg w-full max-w-sm">
				<h2 class="text-2xl font-bold mb-6 text-center">Admin Login</h2>
				<form id="login-form">
					<div class="mb-4">
						<label for="username" class="block text-gray-700 mb-2"
							>Username</label
						>
						<input
							type="text"
							id="username"
							class="w-full p-3 border rounded-md focus:ring-2 focus:ring-blue-500 focus:outline-none"
							required
						/>
					</div>
					<div class="mb-6">
						<label for="password" class="block text-gray-700 mb-2"
							>Password</label
						>
						<input
							type="password"
							id="password"
							class="w-full p-3 border rounded-md focus:ring-2 focus:ring-blue-500 focus:outline-none"
							required
						/>
					</div>
					<button
						type="submit"
						id="login-button"
						class="w-full bg-blue-500 text-white font-bold py-3 rounded-md hover:bg-blue-600 transition-colors disabled:bg-blue-300"
					>
						Login
					</button>
					<p id="login-error" class="text-red-500 text-center mt-4 h-5"></p>
				</form>
			</div>
		</div>

		<!-- Main Dashboard UI (Initially Hidden) -->
		<div id="dashboard-ui" class="hidden h-screen bg-gray-200">
			<div class="flex h-full relative">
				<!-- Overlay for mobile sidebar -->
				<div id="overlay" class="hidden lg:hidden"></div>

				<!-- Sidebar -->
				<div
					id="sidebar"
					class="w-64 bg-gray-800 text-white p-5 flex-shrink-0 flex flex-col"
				>
					<div class="text-2xl font-bold mb-10">Admin Panel</div>
					<nav>
						<a
							href="#dashboard"
							class="sidebar-link active flex items-center py-3 px-4 rounded"
							>Dashboard</a
						>
						<a
							href="#blogs"
							class="sidebar-link flex items-center py-3 px-4 rounded mt-2"
							>Blogs</a
						>
						<a
							href="#portfolio"
							class="sidebar-link flex items-center py-3 px-4 rounded mt-2"
							>Media</a
						>
						<a
							href="#blogGenAI"
							class="sidebar-link flex items-center py-3 px-4 rounded mt-2"
							>Blogging with GenAI</a
						>
					</nav>
					<button
						id="logout-button"
						class="mt-auto flex items-center py-3 px-4 rounded text-red-400 hover:bg-red-500 hover:text-white transition-colors"
					>
						Logout
					</button>
				</div>

				<!-- Main Content -->
				<div class="flex-1 flex flex-col overflow-hidden">
					<header class="bg-white shadow-sm p-4 flex items-center">
						<button
							id="mobile-menu-button"
							class="lg:hidden text-gray-600 mr-4 focus:outline-none"
						>
							<svg
								class="w-6 h-6"
								fill="none"
								stroke="currentColor"
								viewBox="0 0 24 24"
							>
								<path
									stroke-linecap="round"
									stroke-linejoin="round"
									stroke-width="2"
									d="M4 6h16M4 12h16M4 18h16"
								></path>
							</svg>
						</button>
						<h1 id="page-title" class="text-2xl font-semibold text-gray-800">
							Dashboard
						</h1>
					</header>
					<main
						class="flex-1 overflow-x-hidden overflow-y-auto bg-gray-100 p-6"
					>
						<!-- Dashboard Content -->
						<div id="dashboard-content" class="content-panel">
							<div class="bg-white p-6 rounded-lg shadow-md">
								<h3 class="text-xl font-semibold mb-4">
									Site Visitors (Last 7 Days)
								</h3>
								<canvas id="visitorsChart"></canvas>
							</div>
						</div>

						<!-- Blogs Content -->
						<div id="blogs-content" class="content-panel hidden">
							<div class="bg-white p-6 rounded-lg shadow-md mb-6">
								<h3 id="blog-form-title" class="text-xl font-semibold mb-4">
									Write a New Blog Post
								</h3>
								<form id="blog-form">
									<input type="hidden" id="blog-id" />
									<div class="mb-4">
										<label for="blog-title" class="block mb-1 font-medium"
											>Title</label
										>
										<input
											type="text"
											id="blog-title"
											placeholder="Post Title"
											class="w-full p-3 border border-gray-300 rounded-md"
											required
										/>
									</div>

									<!-- AI Assistant Section -->
									<div
										class="bg-gray-50 border border-gray-200 p-4 rounded-lg mb-4"
									>
										<div class="flex items-center gap-2 mb-3">
											<img
												src="./static/icons/ai-svgrepo-com.svg"
												alt="ai-icon"
												class="h-6 w-6"
											/>
											<h4 class="text-lg font-semibold text-gray-700">
												AI Assistant
											</h4>
										</div>
										<label
											for="ai-topic"
											class="block text-sm font-medium text-gray-600 mb-1"
											>Topic or Keyword</label
										>
										<input
											type="text"
											id="ai-topic"
											placeholder="e.g., 'Career growth strategies for nurses'"
											class="w-full p-2 border border-gray-300 rounded-md mb-3"
										/>
										<div class="flex flex-col sm:flex-row gap-3">
											<button
												type="button"
												id="generate-titles-btn"
												class="flex-1 bg-purple-500 text-white font-bold py-2 px-4 rounded-md hover:bg-purple-600 flex items-center justify-center gap-2 transition disabled:bg-purple-300"
											>
												Generate Titles
											</button>
											<button
												type="button"
												id="generate-post-btn"
												class="flex-1 bg-blue-500 text-white font-bold py-2 px-4 rounded-md hover:bg-blue-600 flex items-center justify-center gap-2 transition disabled:bg-blue-300"
											>
												Write Full Post
											</button>
										</div>
										<div id="ai-loader" class="hidden text-center mt-3">
											<div class="spinner inline-block"></div>
											<span class="ml-2 text-gray-600">Generating...</span>
										</div>
										<div id="title-suggestions" class="mt-4 space-y-2"></div>
									</div>

									<div class="mb-4">
										<label class="block mb-1 font-medium">Content</label>
										<div id="editor-container"></div>
									</div>
									<div class="flex items-center gap-4 mt-10">
										<button
											type="submit"
											id="blog-submit-button"
											class="bg-blue-500 text-white font-bold py-2 px-6 rounded-md hover:bg-blue-600"
										>
											Publish Post
										</button>
										<button
											type="button"
											id="blog-cancel-button"
											class="hidden bg-gray-500 text-white font-bold py-2 px-6 rounded-md hover:bg-gray-600"
										>
											Cancel
										</button>
									</div>
								</form>
							</div>
							<div class="bg-white p-6 rounded-lg shadow-md mt-6">
								<h3 class="text-xl font-semibold mb-4">
									Manage Existing Posts
								</h3>
								<div class="overflow-x-auto">
									<table class="w-full text-left">
										<thead>
											<tr class="border-b">
												<th class="p-2">Title</th>
												<th class="p-2 hidden sm:table-cell">Date</th>
												<th class="p-2">Actions</th>
											</tr>
										</thead>
										<tbody id="blog-list"></tbody>
									</table>
								</div>
							</div>
						</div>
						<!-- Media control Content -->
						<div id="portfolio-content" class="content-panel hidden">
							<div class="bg-white p-6 rounded-lg shadow-md">
								<h3 class="text-xl font-semibold mb-4">Upload New Media</h3>
								<form id="imageUploadForm" class="flex flex-col items-center">
									<input
										type="file"
										id="imageFileInput"
										name="image"
										accept="image/*"
										required
										class="hidden"
									/>

									<div
										id="imagePreviewContainer"
										class="mb-4 mt-2 p-4 w-full md:w-3/4 lg:w-1/2 h-64 border-2 border-dashed border-gray-300 rounded-lg bg-gray-50 flex flex-col justify-center items-center text-center cursor-pointer transition-colors duration-200 hover:border-blue-400 hover:bg-blue-50 overflow-hidden"
									>
										<img
											id="imagePreview"
											src=""
											alt="Image Preview"
											class="max-w-full max-h-full object-contain hidden"
											style="height: auto; max-width: 100%; display: block"
										/>

										<p
											id="imagePreviewPlaceholder"
											class="text-gray-500 text-sm"
										>
											Drag & drop an image here, or click to select a file.
										</p>
										<p
											id="imageFileName"
											class="text-xs text-gray-700 hidden mt-1"
										></p>
									</div>

									<button
										type="submit"
										id="upload-button"
										class="hidden bg-green-500 text-white font-bold py-2 px-4 rounded-md hover:bg-green-600 disabled:bg-green-300"
									>
										Upload
									</button>
								</form>
							</div>
							<div class="bg-white p-6 rounded-lg shadow-md mt-6">
								<h3 class="text-xl font-semibold mb-4">Manage Media</h3>
								<div
									id="media-grid"
									class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"
								></div>
							</div>
						</div>

						<!-- Gen ai content -->
						<div id="blogGenAI-content" class="content-panel hidden">
							<div class="bg-white p-6 rounded-lg shadow-md">
								<div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
									<!-- Left Column: Controls -->
									<aside class="lg:col-span-1 space-y-6">
										<div
											class="bg-slate-800/50 p-6 rounded-xl shadow-lg border border-slate-700"
										>
											<h2 class="text-xl font-bold text-sky-400 mb-4">
												1. Start with a Topic
											</h2>
											<p class="text-slate-400 mb-4 text-sm">
												Enter a keyword or a full topic to get started.
											</p>
											<input
												type="text"
												id="topicInput"
												placeholder="e.g., 'The Future of AI'"
												class="w-full bg-slate-700 border border-slate-600 rounded-md px-4 py-2 focus:ring-2 focus:ring-sky-500 focus:outline-none transition placeholder-slate-400 text-slate-200"
											/>
										</div>

										<div
											class="bg-slate-800/50 p-6 rounded-xl shadow-lg border border-slate-700"
										>
											<h2 class="text-xl font-bold text-sky-400 mb-4">
												2. Generate Content
											</h2>
											<div class="space-y-4">
												<!-- Action Button for Ideas -->
												<button
													id="generateIdeasBtn"
													class="action-button w-full flex items-center justify-center gap-2 px-6 py-3 bg-purple-600 hover:bg-purple-700 font-semibold rounded-lg shadow-md transition transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed"
												>
													<svg
														class="w-5 h-5"
														fill="none"
														stroke="currentColor"
														viewBox="0 0 24 24"
														xmlns="http://www.w3.org/2000/svg"
													>
														<path
															stroke-linecap="round"
															stroke-linejoin="round"
															stroke-width="2"
															d="M9.663 17h4.673M12 17v5m6.44-4.14L21 21M9.663 17a4.998 4.998 0 01-2.457-3.75 5 5 0 01.127-1.733M9.663 17h4.673M12 17v5m6.44-4.14L21 21M9.663 17a4.998 4.998 0 01-2.457-3.75 5 5 0 01.127-1.733M12 21.75a.75.75 0 00.75-.75h-.75V21h.75a.75.75 0 00-.75-.75v-.75a.75.75 0 00-.75.75h-.75V21h.75a.75.75 0 00-.75.75v.75zm0 0c.34-.047.653-.16.924-.315l-.76-.76a1.125 1.125 0 01-.164-.263l-.066-.145m-.385.195l-.184.184m.184-.184l-.184.184M3 21h18M12 3a.75.75 0 00-.75.75v-.75h-.75V3a.75.75 0 00-.75.75v.75h-.75V3a.75.75 0 00-.75.75v.75M3.75 3h.75v.75h-.75V3zm16.5 0h.75v.75h-.75V3z"
														></path>
													</svg>
													<span>Generate Blog Ideas</span>
												</button>
												<!-- Action Button for Post -->
												<button
													id="writePostBtn"
													class="action-button w-full flex items-center justify-center gap-2 px-6 py-3 bg-sky-600 hover:bg-sky-700 font-semibold rounded-lg shadow-md transition transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed"
												>
													<svg
														class="w-5 h-5"
														fill="none"
														stroke="currentColor"
														viewBox="0 0 24 24"
														xmlns="http://www.w3.org/2000/svg"
													>
														<path
															stroke-linecap="round"
															stroke-linejoin="round"
															stroke-width="2"
															d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"
														></path>
													</svg>
													<span>Write Full Post</span>
												</button>
												<!-- Action Button for Image -->
											</div>
										</div>

										<!-- Error Display -->
										<div
											id="errorDisplay"
											class="hidden bg-red-500/20 border border-red-500 text-red-300 p-4 rounded-lg"
											role="alert"
										>
											<p class="font-bold">Error</p>
											<p id="errorMessage" class="text-sm"></p>
										</div>

										<!-- Idea List Display -->
										<div
											id="ideaListContainer"
											class="hidden bg-slate-800/50 p-6 rounded-xl shadow-lg border border-slate-700"
										>
											<h3 class="text-lg font-semibold text-purple-400 mb-3">
												Generated Ideas:
											</h3>
											<div id="ideaList" class="space-y-2">
												<!-- Ideas will be dynamically inserted here -->
											</div>
										</div>
									</aside>

									<!-- Right Column: Output -->
									<div
										class="lg:col-span-2 bg-slate-800/50 p-4 sm:p-6 md:p-8 rounded-xl shadow-lg border border-slate-700 min-h-[500px] flex flex-col justify-center items-center"
									>
										<!-- Loader Display -->
										<div id="loader" class="hidden text-center">
											<div class="spinner mx-auto mb-4"></div>
											<p
												id="loaderText"
												class="text-xl text-sky-400 font-semibold"
											>
												Loading...
											</p>
										</div>

										<!-- Welcome/Placeholder Message -->
										<div
											id="welcomeMessage"
											class="flex flex-col items-center justify-center h-full text-center text-slate-500 p-4"
										>
											<h2 class="text-2xl font-bold">
												Your content will appear here
											</h2>
											<p class="mt-2 text-base">
												Use the controls on the left to generate ideas, write a
												post, or create an image.
											</p>
										</div>

										<!-- Image Display -->
										<div
											id="imageDisplayContainer"
											class="hidden w-full h-auto mb-6 rounded-lg overflow-hidden shadow-lg"
										>
											<img
												id="generatedImage"
												src=""
												alt="Generated Blog Header"
												class="w-full h-full object-cover rounded-lg"
												onerror="this.onerror=null; this.src='https://placehold.co/800x450/334155/64748b?text=Image+Load+Error';"
											/>
										</div>

										<!-- Blog Post Display -->
										<div
											id="blogDisplayContainer"
											class="hidden w-full markdown-content text-slate-300"
										>
											<!-- Blog post content will be inserted here -->
										</div>
									</div>
								</div>
							</div>
						</div>
					</main>
				</div>
			</div>
		</div>

		<script src="./scripts/dashboard.js"></script>
		<script src="./scripts/genAI.js"></script>
	</body>
</html>
